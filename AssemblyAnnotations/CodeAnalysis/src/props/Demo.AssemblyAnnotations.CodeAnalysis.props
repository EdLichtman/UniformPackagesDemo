<Project>
  <PropertyGroup>
    <TreatWarningsAsErrors>true</TreatWarningsAsErrors>
    <CodeAnalysisTreatWarningsAsErrors>true</CodeAnalysisTreatWarningsAsErrors>
    <AnalysisLevel>6.0-recommended</AnalysisLevel>
    <GenerateDocumentationFile>true</GenerateDocumentationFile>
    <EnforceCodeStyleInBuild>true</EnforceCodeStyleInBuild>
  </PropertyGroup>

  <PropertyGroup Condition="'$(Configuration)' == 'Develop'">
    <TreatWarningsAsErrors>false</TreatWarningsAsErrors>    
    <CodeAnalysisTreatWarningsAsErrors>false</CodeAnalysisTreatWarningsAsErrors>
    <EnforceCodeStyleInBuild>false</EnforceCodeStyleInBuild>
  </PropertyGroup>

  <ItemGroup>
    <GlobalAnalyzerConfigFiles
      Include="$(MSBuildThisFileDirectory)Demo.AssemblyAnnotations.CodeAnalysis.analyzerconfig" />
  </ItemGroup>

  <Target Name="EnsureProjectHasSolution" BeforeTargets="BeforeBuild" Condition="'$(SolutionDir)' == '*Undefined*'">
    <Warning Text="Building Single Project without Solution. You must build a Solution in order to ensure Code Styles have been copied over. If code styles are already enabled, this warning can be disregarded."/>
  </Target>
</Project>